window.repositoryObject = {"parameters":[{"name":"Exam_Id","description":null,"mode":"IN","data_type":"int","custom_fields":{},"linked_terms":[]}],"parameters_custom_fields":[],"dependencies":{"uses":[],"used_by":[]},"object_id":"p83","name":"SP_ReportingGetExamQuestions","subtype":"PROCEDURE","is_user_defined":false,"description":null,"summary":[{"field":"Documentation","value":{"_type":"link","name":"Examination_System_DATA_Dictionary","id":"d2"}},{"field":"Schema","value":"dbo"},{"field":"Name","value":"SP_ReportingGetExamQuestions"},{"field":"Type","value":"Procedure"}],"script":"CREATE   PROCEDURE SP_ReportingGetExamQuestions\r\n    @Exam_Id INT\r\nAS\r\nBEGIN\r\n    -- Select existing choices\r\n    SELECT  QuestionID, \r\n\t\t\tQuestionText, \r\n\t\t\tChoiceText\r\n\t\t\tFROM \r\n\t\t(\r\n\t\tSELECT \r\n        Q.Id AS QuestionID, \r\n        Q.Text AS QuestionText, \r\n        C.Choice AS ChoiceText,EQ.Question_Order\r\n\t\tFROM ExamQuestion EQ\r\n\t\tINNER JOIN Question Q ON EQ.Question_Id = Q.Id\r\n\t\tLEFT JOIN Choice C ON Q.Id = C.Question_Id\r\n\t\tWHERE EQ.Exam_Id = @Exam_Id AND C.Choice IS NOT NULL\r\n\r\n    UNION ALL\r\n\r\n    -- Add \"True\" where there are no choices\r\n    SELECT \r\n        Q.Id AS QuestionID, \r\n        Q.Text AS QuestionText, \r\n        'True' AS ChoiceText,EQ.Question_Order\r\n    FROM ExamQuestion EQ\r\n    INNER JOIN Question Q ON EQ.Question_Id = Q.Id\r\n    LEFT JOIN Choice C ON Q.Id = C.Question_Id\r\n    WHERE EQ.Exam_Id = @Exam_Id AND C.Choice IS NULL\r\n\r\n    UNION ALL\r\n\r\n    -- Add \"False\" where there are no choices\r\n    SELECT \r\n        Q.Id AS QuestionID, \r\n        Q.Text AS QuestionText, \r\n        'False' AS ChoiceText,EQ.Question_Order\r\n    FROM ExamQuestion EQ\r\n    INNER JOIN Question Q ON EQ.Question_Id = Q.Id\r\n    LEFT JOIN Choice C ON Q.Id = C.Question_Id\r\n    WHERE EQ.Exam_Id = @Exam_Id AND C.Choice IS NULL\r\n\t) AS TEMP\r\n\r\n\tORDER BY Question_Order\r\nEND;","imported_at":"2025-02-01 01:13"};